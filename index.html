
<html lang="en">
    <head>
        <!--jquery js-->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <!-- leaflet files -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.css" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
            <style>
                #myMap {position: absolute; top: 0; bottom: 0; left: 0; right:0;}
          </style>
    
        <!--jQuery UI files-->
            <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
            <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>
        <!--jQuery UI Touch js, required for touchscreen use-->
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
            <script src="js/SliderControl.js"></script>
            <link rel="stylesheet" href= "textbox.css" />  
	    <link rel="stylesheet" href="leaflet-sidebar.css" />
	  <script src="js/leaflet-sidebar.js"></script>
	  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
	  <link rel="stylesheet" type="text/css" href="L.Control.ZoomBar.css"/>
	  <script type="text/javascript" src="js/L.Control.ZoomBar.js"></script>
    <style>
                .lorem {
            font-style: normal;
            color: #000000;
        }

        html, body, #map {
            height: 100%;
            font: 14pt "Helvetica Neue", Arial, Helvetica, sans-serif;
        }

        body {
            padding: 0;
            margin: 0;
        }

    </style>
        </head>
   <body>
  <!-- MODAL -->
      
  <div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-dialog modal-vertical-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Welcome to the Digital Atlas of Egyptian Archaeology</h4>
                </div>
                <div class="modal-body">
                    The Digital Atlas of Ancient Egypt is a digital cultural map of archaeological sites in Egypt (ranging from the Predynastic to the Roman period).  Collaboratively produced at Michigan State University during the Fall 2014 semester by the students registered in the Archaeology of Ancient Egypt class (ANP 455), the Digital Atlas of Ancient Egypt represents an experiment in applied digital archaeology undergraduate learning.  

                </div>
                <div class="modal-footer">
                    <label ><input class="dont" type="checkbox" name="dismiss"> Don't show again</label><br />
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
  </div>

  <!-- MAP -->
    <div id="myMap"<>/div>
	   
        <script>
            var map1 = L.map ('myMap', {
		    	minZoom: 12,
                        maxZoom: 18,
		    zoomControl: false}).setView([42.7318176, -84.55188700000001], 12);
           
            L.tileLayer('https://api.mapbox.com/styles/v1/katknow/clad1c1m3002h14nyen3bdtuq/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1Ijoia2F0a25vdyIsImEiOiJjbDF6aGdyOW4wN3BuM2lxbzVuODhtd2M4In0.q05VF3pSrBV7bCrv1jKZyA', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
           }).addTo(map1);
		        map1.attributionControl.addAttribution('Sandy Burnely, Jeffrey Burnett, Meng Cai, & Katie Knowles, <a href="https://chi.anthropology.msu.edu/", class="your_class">CHI MSU 2021</a>');
	  
           
                var dataset1 = [
     
    {
        type: 'Feature',
        geometry: {
            type: 'Point',
            coordinates: [-86.21807394, 43.06101798]
        },
        properties: {
            title: 'Grand Haven March',
            description: '<img class="resize center" src="https://bloximages.newyork1.vip.townnews.com/grandhaventribune.com/content/tncms/assets/v3/editorial/d/67/d67c21e0-985b-518d-b8f0-4dbaf9415fc9/62bf5c575e219.image.jpg"> <br> <b>Location: Grand Haven</b> <br> On July 1, about 40 community members gathered in Grand Haven, Michigan to protest the overturning of the 1973 Roe v. Wade court ruling. Read more <a href="https://www.grandhaventribune.com/news/local/protestors-react-to-supreme-court-decision-with-grand-haven-march/article_c62ae702-0624-5d17-bab9-2f0332bec8de.html">here</a>',
            time: '2022/07',
            icon: {
                iconUrl: 'html/restauranticon.png',
                iconSize: [25, 41],
                iconAnchor: [3, 35],
                popupAnchor: [0, -41],
                className: 'dot',
                        }
        }
    },

    {
        type: 'Feature',
        geometry: {
            type: 'Point',
            coordinates: [-85.52746686, 41.92310502]
        },
        properties: {
            title: 'Centreville March',
            description: '<img class="resize center" src="https://www.gannett-cdn.com/presto/2022/07/05/NSTJ/716df7dc-0f1d-4712-9c4d-bdef02e6e5d8-IMG_6457_copy.jpg"> <br> <b>Location: Centreville</b> <br> On July 2, Three Rivers Pride and the St. Joseph County Democratic Party organized a rally in Centreville, Michigan to protest the overturning of the 1973 Roe v. Wade court ruling. Read more <a href="https://www.sturgisjournal.com/story/news/2022/07/06/news-roe-v-wade-protest/7810757001/">here</a>!',
            time: '2022/07',
    icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }


        }
    },
            
    {
        type: 'Feature',
        geometry: {
            type: 'Point',
            coordinates: [-84.55321651, 42.73432382]
        },
        properties: {
            title: 'Saline',
            description: '<img class="resize center" src="https://www.gannett-cdn.com/presto/2022/07/04/PLSJ/cbf85d18-b274-44da-93f0-1662b83c82ba-20220704_152001156_iOS.jpg"> <br> <b>Location: Lansing</b> <br> On July 4, Lansing community members organized a rally in Lansing, Michigan to protest the overturning of the 1973 Roe v. Wade court ruling during the Independence Day Parade. Read more <a href="https://www.lansingstatejournal.com/story/news/local/2022/07/04/celebrations-protests-clash-july-4-lansing/7791867001/">here</a>!',
            time: '2022/07',
    icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
        }
    },
    
    {
        type: 'Feature',
        geometry: {
            type: 'Point',
            coordinates: [-83.23976715, 42.77675836]
        },
        properties: {
            title: 'Lansing March',
            description: '<img class="resize center" src="https://scontent-ord5-2.xx.fbcdn.net/v/t39.30808-6/289357148_2495151860621710_6136594774970141051_n.jpg"> <br> <b>Location: Lansing</b> <br> On July 4, Lansing Pro-Choice organized a rally in Lansing, Michigan to protest the overturning of the 1973 Roe v. Wade court ruling. Read more <a href="https://www.pharostribune.com/news/article_46fa2730-fa56-11ec-90d4-97739f9112f4.html">here</a>!',
            time: '2022/07',
            icon: {
                            iconUrl: 'html/restauranticon.png',
                            iconSize: [25, 41],
                            iconAnchor: [3, 35],
                            popupAnchor: [0, -41],
                            className: 'dot',
                        }
        }
    }


];
            var optionsObject = {
                onEachFeature: onEachFeature
            };
            function onEachFeature (feature, layer) {
               var content = "<div style='clear: both'></div><div style='float: left; padding: 5px; margin-right: 10px'><img style='width: 200px;' src=" + feature.properties.image + " /></div><div><h4>" + feature.properties.title + "</h4><p>" + feature.properties.time + "</p><p>" + feature.properties.description + "</p></div>";
               layer.setIcon(L.icon(feature.properties.icon));
                layer.bindPopup(content, {closeButton: true});
            };
            var group1 = L.geoJSON(dataset1, optionsObject);
            var sliderControl1 = L.control.sliderControl( {
    layer: group1, // REQUIRED
    alwaysShowDate: true, // to make the date box below the slider persistent
    showAllPopups: false, // to show all popups, instead of only one; same as the popup option "autoClose: false"
    showPopups: false // to set it so, when a marker is generated by the slider, its popup doesn't automatically display
});
            
    // Add the slider to the map
map1.addControl(sliderControl1);

// Initialize the slider
sliderControl1.startSlider();
                
var sidebar = L.control.sidebar({ container: 'sidebar' })
            .addTo(map1)
            .open('home');
		
 // add panels dynamically to the sidebar

var zoom_bar = new L.Control.ZoomBar({position: 'topright'}).addTo(map1);
       

 
	   </script>
	   
 <!-- Initiates Modal and Uses cookies for Dont Show Again Checkbox -->     
 <script type="text/javascript">
    $(document).ready(function () {
       $('#myModal').modal();
     
      //check cookies
       function setCookie(){
           var dis = document.cookie;
           while(dis.charAt(0)==" ") dis = dis.substring(1);
           if(dis.substring(8,13)== "false"){
               $('#myModal').modal('hide');
           }
           console.log(dis.substring(8,13));
       }
       setCookie();    
        
        
         var $check = $("input.dont").click(function(){
           if($("input.dont").is(":checked")){
           document.cookie = "display=false";        
           }else{
           document.cookie = "display=true";        
           }
             
         });
    });
   </script>
    
         
         
   <!-- Centers Modal Vertically -->      
   <script type="text/javascript">
         function centerModal() {
       $(this).css('display', 'block');
       var $dialog = $(this).find(".modal-dialog");
       var offset = ($(window).height() - $dialog.height()) / 2;
       // Center modal vertically in window
       $dialog.css("margin-top", offset);
   }
   
   $('.modal').on('show.bs.modal', centerModal);
   $(window).on("resize", function () {
       $('.modal:visible').each(centerModal);
   });
   </script>
		
	</body>
</html>
	